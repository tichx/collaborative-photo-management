{"map":"{\"version\":3,\"sources\":[\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/Constants/PageTypes/PageTypes.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/Components/Auth/Components/SignForm/SignForm.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/Constants/APIEndpoints/APIEndpoints.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/Components/Errors/Errors.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/Components/Auth/Components/SignUp/SignUp.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/Components/Auth/Components/SignIn/SignIn.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/Components/Auth/Components/ForgotPassword/ForgotPassword.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/Components/Auth/Auth.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/Components/Main/Content/MainPageContent/MainPageContent.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/Components/Main/Components/SignOutButton/SignOutButton.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/Components/Main/Components/UpdateName/UpdateName.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/Components/Main/Components/UpdateAvatar/UpdateAvatar.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/Components/Main/Components/UploadImage/UploadImage.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/MainPage.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/Components/Main/Main.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/App.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/serviceWorker.js\",\"/Users/danfengyang/go/src/INFO441/collaborative-photo-management/clients/final-clients/src/index.js\"],\"names\":[\"PageTypes\",\"signIn\",\"signUp\",\"signedInMain\",\"signedInUpdateName\",\"signedInUpdateAvatar\",\"signedInUploadImage\",\"forgotPassword\",\"mainPage\",\"SignForm\",\"_ref\",\"setField\",\"submitForm\",\"values\",\"fields\",\"react_default\",\"a\",\"createElement\",\"Fragment\",\"onSubmit\",\"map\",\"d\",\"key\",\"name\",\"value\",\"onChange\",\"type\",\"className\",\"APIEndpoints\",\"base\",\"testbase\",\"handlers\",\"users\",\"myuser\",\"myuserAvatar\",\"sessions\",\"sessionsMine\",\"resetPasscode\",\"passwords\",\"upload\",\"Errors\",\"error\",\"setError\",\"onClick\",\"SignUp\",\"props\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"e\",\"setState\",\"defineProperty\",\"target\",\"asyncToGenerator\",\"regenerator_default\",\"mark\",\"_callee\",\"_this$state\",\"email\",\"userName\",\"firstName\",\"lastName\",\"password\",\"passwordConf\",\"sendData\",\"response\",\"authToken\",\"user\",\"wrap\",\"_context\",\"prev\",\"next\",\"preventDefault\",\"state\",\"fetch\",\"api\",\"method\",\"body\",\"JSON\",\"stringify\",\"headers\",\"Headers\",\"Content-Type\",\"sent\",\"status\",\"text\",\"abrupt\",\"get\",\"localStorage\",\"setItem\",\"setAuthToken\",\"json\",\"setUser\",\"stop\",\"_x\",\"apply\",\"arguments\",\"_this2\",\"Components_Errors_Errors\",\"Components_SignForm_SignForm\",\"setPage\",\"Component\",\"SignIn\",\"ForgotPassword\",\"sendResetCode\",\"alert\",\"resetCodeSent\",\"updatePassword\",\"_ref2\",\"_callee2\",\"resetCode\",\"_context2\",\"_x2\",\"setValue\",\"_this$state2\",\"class\",\"Auth\",\"page\",\"Components_SignUp_SignUp\",\"Components_SignIn_SignIn\",\"Components_ForgotPassword_ForgotPassword\",\"MainPageContent\",\"_useState\",\"useState\",\"_useState2\",\"slicedToArray\",\"avatar\",\"setAvatar\",\"_fetchAvatar\",\"imgBlob\",\"Authorization\",\"getItem\",\"photoURL\",\"blob\",\"URL\",\"createObjectURL\",\"useEffect\",\"fetchAvatar\",\"src\",\"alt\",\"concat\",\"SignOutButton\",\"_error\",\"UpdateName\",\"sendRequest\",\"console\",\"log\",\"UpdateAvatar\",\"file\",\"data\",\"FormData\",\"append\",\"handleFile\",\"files\",\"UploadImage\",\"fileName\",\"url\",\"encType\",\"TagButtonList\",\"TagLists\",\"tags\",\"MainPage_TagButton\",\"id\",\"tag\",\"setTag\",\"NotifyTagUpdate\",\"style\",\"display\",\"flexDirection\",\"TagTextField\",\"placeholder\",\"onKeyPress\",\"event\",\"newTag\",\"requestOptions\",\"TagButton\",\"flexWrap\",\"margin\",\"MainPage_BindTagMember\",\"tagID\",\"ImgCardList\",\"imgDataList\",\"MainPage_ImgCard\",\"img\",\"flex-wrap\",\"tagIDTable\",\"IDTagTable\",\"tagIds\",\"forEach\",\"push\",\"includes\",\"ImgCard\",\"tagNameList\",\"index\",\"length\",\"tagIDFromImage\",\"displayResult\",\"item\",\"i\",\"width\",\"height\",\"MainPage_BindTagImg\",\"imgID\",\"BindTagImg\",\"imageID\",\"tagName\",\"BindTagMember\",\"userID\",\"MainPage\",\"setImgDataList\",\"_useState3\",\"_useState4\",\"tagDataList\",\"setTagDataList\",\"_useState5\",\"_useState6\",\"_useState7\",\"_useState8\",\"_useState9\",\"_useState10\",\"_useState11\",\"_useState12\",\"_useState13\",\"_useState14\",\"notifyTagChange\",\"setNotifyTagChange\",\"setTimeout\",\"then\",\"resp\",\"element\",\"obj\",\"assign\",\"obj2\",\"MainPage_TagTextField\",\"MainPage_TagButtonList\",\"newTagId\",\"MainPage_ImgCardList\",\"Main\",\"content\",\"contentPage\",\"Content_MainPageContent_MainPageContent\",\"Components_UpdateName_UpdateName\",\"Components_UpdateAvatar_UpdateAvatar\",\"Components_UploadImage_UploadImage\",\"src_MainPage\",\"Components_SignOutButton_SignOutButton\",\"App\",\"getCurrentUser\",\"setPageToSignIn\",\"setPageToSignUp\",\"Components_Main_Main\",\"Components_Auth_Auth\",\"Boolean\",\"window\",\"location\",\"hostname\",\"match\",\"ReactDOM\",\"render\",\"src_App\",\"document\",\"getElementById\",\"navigator\",\"serviceWorker\",\"ready\",\"registration\",\"unregister\"],\"mappings\":\"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\",\"sourcesContent\":[\"export default {\\n    signIn: \\\"SIGNIN\\\",\\n    signUp: \\\"SIGNUP\\\",\\n    signedInMain: \\\"SIGNEDIN_MAIN\\\",\\n    signedInUpdateName: \\\"SIGNEDIN_UPDATENAME\\\",\\n    signedInUpdateAvatar: \\\"SIGNEDIN_UPDATEAVATAR\\\",\\n    signedInUploadImage: \\\"SIGNEDIN_UPLOADIMAGE\\\",\\n    forgotPassword: \\\"FORGOT_PASSWORD\\\",\\n    mainPage: \\\"MAIN_PAGE\\\"\\n}\",\"import React from 'react';\\nimport PropTypes from 'prop-types';\\n\\nconst SignForm = ({ setField, submitForm, values, fields }) => {\\n    return <>\\n        <form onSubmit={submitForm}>\\n            {fields.map(d => {\\n                const { key, name } = d;\\n                return <div key={key}>\\n                    <span>{name}: </span>\\n                    <input\\n                        value={values[key]}\\n                        name={key}\\n                        onChange={setField}\\n                        type={key === \\\"password\\\" || key === \\\"passwordConf\\\" ? \\\"password\\\" : ''}\\n                    />\\n                </div>\\n            })}\\n            <input className=\\\"animated_btn\\\" type=\\\"submit\\\" value=\\\"Submit\\\" />\\n        </form>\\n    </>\\n}\\n\\nSignForm.propTypes = {\\n    setField: PropTypes.func.isRequired,\\n    submitForm: PropTypes.func.isRequired,\\n    values: PropTypes.shape({\\n        email: PropTypes.string.isRequired,\\n        userName: PropTypes.string,\\n        firstName: PropTypes.string,\\n        lastName: PropTypes.string,\\n        password: PropTypes.string.isRequired,\\n        passwordConf: PropTypes.string\\n    }),\\n    fields: PropTypes.arrayOf(PropTypes.shape({\\n        key: PropTypes.string,\\n        name: PropTypes.string\\n    }))\\n}\\n\\nexport default SignForm;\",\"export default {\\n    base: \\\"https://api.xutiancheng.me\\\",\\n    testbase: \\\"https://localhost:8080\\\",\\n    handlers: {\\n        users: \\\"/v1/users\\\",\\n        myuser: \\\"/v1/users/me\\\",\\n        myuserAvatar: \\\"/v1/users/me/avatar\\\",\\n        sessions: \\\"/v1/sessions\\\",\\n        sessionsMine: \\\"/v1/sessions/mine\\\",\\n        resetPasscode: \\\"/v1/resetcodes\\\",\\n        passwords: \\\"/v1/passwords/\\\",\\n        upload: \\\"/v1/upload/\\\"\\n    }\\n}\",\"import React from 'react';\\nimport PropTypes from 'prop-types';\\nimport './Styles/Errors.css';\\n\\nconst Errors = ({ error, setError }) => {\\n    switch (error) {\\n        case \\\"\\\":\\n            return <></>\\n        default:\\n            return <div className=\\\"error\\\">\\n                <span className=\\\"error-hide\\\" onClick={() => setError(\\\"\\\")}>x</span>\\n                Error: {error}\\n            </div>\\n    }\\n}\\n\\nErrors.propTypes = {\\n    error: PropTypes.string.isRequired,\\n    setError: PropTypes.func\\n}\\n\\nexport default Errors;\",\"import React, { Component } from 'react';\\nimport PropTypes from 'prop-types';\\nimport SignForm from '../SignForm/SignForm';\\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\\nimport Errors from '../../../Errors/Errors';\\nimport PageTypes from '../../../../Constants/PageTypes/PageTypes';\\n\\n/**\\n * @class\\n * @classdesc SignUp handles the sign up component\\n */\\nclass SignUp extends Component {\\n    static propTypes = {\\n        setPage: PropTypes.func,\\n        setAuthToken: PropTypes.func\\n    }\\n\\n    constructor(props) {\\n        super(props);\\n\\n        this.state = {\\n            email: \\\"\\\",\\n            userName: \\\"\\\",\\n            firstName: \\\"\\\",\\n            lastName: \\\"\\\",\\n            password: \\\"\\\",\\n            passwordConf: \\\"\\\",\\n            error: \\\"\\\"\\n        };\\n\\n        this.fields = [\\n            {\\n                name: \\\"Email\\\",\\n                key: \\\"email\\\"\\n            },\\n            {\\n                name: \\\"Username\\\",\\n                key: \\\"userName\\\"\\n            },\\n            {\\n                name: \\\"First name\\\",\\n                key: \\\"firstName\\\"\\n            },\\n            {\\n                name: \\\"Last name\\\",\\n                key: \\\"lastName\\\"\\n            },\\n            {\\n                name: \\\"Password\\\",\\n                key: \\\"password\\\"\\n            },\\n            {\\n                name: \\\"Password Confirmation\\\",\\n                key: \\\"passwordConf\\\"\\n            }];\\n    }\\n\\n    /**\\n     * @description setField will set the field for the provided argument\\n     */\\n    setField = (e) => {\\n        this.setState({ [e.target.name]: e.target.value });\\n    }\\n\\n    /**\\n     * @description setError sets the error message\\n     */\\n    setError = (error) => {\\n        this.setState({ error })\\n    }\\n\\n    /**\\n     * @description submitForm handles the form submission\\n     */\\n    submitForm = async (e) => {\\n        e.preventDefault();\\n        const { email,\\n            userName,\\n            firstName,\\n            lastName,\\n            password,\\n            passwordConf } = this.state;\\n        const sendData = {\\n            email,\\n            userName,\\n            firstName,\\n            lastName,\\n            password,\\n            passwordConf\\n        };\\n        const response = await fetch(api.base + api.handlers.users, {\\n            method: \\\"POST\\\",\\n            body: JSON.stringify(sendData),\\n            headers: new Headers({\\n                \\\"Content-Type\\\": \\\"application/json\\\"\\n            })\\n        });\\n        if (response.status >= 300) {\\n            const error = await response.text();\\n            this.setError(error);\\n            return;\\n        }\\n        const authToken = response.headers.get(\\\"Authorization\\\")\\n        localStorage.setItem(\\\"Authorization\\\", authToken);\\n        this.setError(\\\"\\\");\\n        this.props.setAuthToken(authToken);\\n        const user = await response.json();\\n        this.props.setUser(user);\\n    }\\n\\n    render() {\\n        const values = this.state;\\n        const { error } = this.state;\\n        return <>\\n            <Errors error={error} setError={this.setError} />\\n            <SignForm\\n                setField={this.setField}\\n                submitForm={this.submitForm}\\n                values={values}\\n                fields={this.fields} />\\n            <button onClick={(e) => this.props.setPage(e, PageTypes.signIn)}>Sign in instead</button>\\n        </>\\n    }\\n}\\n\\nexport default SignUp;\",\"import React, { Component } from 'react';\\nimport PropTypes from 'prop-types';\\nimport SignForm from '../SignForm/SignForm';\\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\\nimport Errors from '../../../Errors/Errors';\\nimport PageTypes from '../../../../Constants/PageTypes/PageTypes';\\n\\n/**\\n * @class\\n * @classdesc SignIn handles the sign in component\\n */\\nclass SignIn extends Component {\\n    static propTypes = {\\n        setPage: PropTypes.func,\\n        setAuthToken: PropTypes.func\\n    }\\n\\n    constructor(props) {\\n        super(props);\\n\\n        this.state = {\\n            email: \\\"\\\",\\n            password: \\\"\\\",\\n            error: \\\"\\\"\\n        };\\n\\n        this.fields = [\\n            {\\n                name: \\\"Email\\\",\\n                key: \\\"email\\\"\\n            },\\n            {\\n                name: \\\"Password\\\",\\n                key: \\\"password\\\"\\n            }];\\n    }\\n\\n    /**\\n     * @description setField will set the field for the provided argument\\n     */\\n    setField = (e) => {\\n        this.setState({ [e.target.name]: e.target.value });\\n    }\\n\\n    /**\\n     * @description setError sets the error message\\n     */\\n    setError = (error) => {\\n        this.setState({ error })\\n    }\\n\\n    /**\\n     * @description submitForm handles the form submission\\n     */\\n    submitForm = async (e) => {\\n        e.preventDefault();\\n        const { email, password } = this.state;\\n        const sendData = { email, password };\\n        const response = await fetch(api.base + api.handlers.sessions, {\\n            method: \\\"POST\\\",\\n            body: JSON.stringify(sendData),\\n            headers: new Headers({\\n                \\\"Content-Type\\\": \\\"application/json\\\"\\n            })\\n        });\\n        if (response.status >= 300) {\\n            const error = await response.text();\\n            this.setError(error);\\n            return;\\n        }\\n        const authToken = response.headers.get(\\\"Authorization\\\")\\n        localStorage.setItem(\\\"Authorization\\\", authToken);\\n        this.setError(\\\"\\\");\\n        this.props.setAuthToken(authToken);\\n        const user = await response.json();\\n        this.props.setUser(user);\\n    }\\n\\n    render() {\\n        const values = this.state;\\n        const { error } = this.state;\\n        return <>\\n            <Errors error={error} setError={this.setError} />\\n            <SignForm\\n                setField={this.setField}\\n                submitForm={this.submitForm}\\n                values={values}\\n                fields={this.fields} />\\n            <button onClick={(e) => this.props.setPage(e, PageTypes.signUp)}>Sign up instead</button>\\n            <button onClick={(e) => this.props.setPage(e, PageTypes.forgotPassword)}>Forgot password</button>\\n        </>\\n    }\\n}\\n\\nexport default SignIn;\",\"import React, { Component } from 'react';\\nimport Errors from '../../../Errors/Errors';\\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\\nimport PageTypes from '../../../../Constants/PageTypes/PageTypes';\\n\\nclass ForgotPassword extends Component {\\n    constructor(props) {\\n        super(props);\\n        this.state = {\\n            email: \\\"\\\",\\n            password: \\\"\\\",\\n            passwordConf: \\\"\\\",\\n            resetCode: \\\"\\\",\\n            resetCodeSent: false,\\n            error: \\\"\\\"\\n        }\\n    }\\n\\n    sendResetCode = async (e) => {\\n        e.preventDefault();\\n        const { email } = this.state;\\n        const sendData = { email };\\n        const response = await fetch(api.base + api.handlers.resetPasscode, {\\n            method: \\\"POST\\\",\\n            body: JSON.stringify(sendData),\\n            headers: new Headers({\\n                \\\"Content-Type\\\": \\\"application/json\\\"\\n            })\\n        });\\n        if (response.status >= 300) {\\n            const error = await response.text();\\n            this.setError(error);\\n            return;\\n        }\\n        this.setError(\\\"\\\");\\n        alert(\\\"A reset code has been sent to your email\\\");\\n        this.setState({ resetCodeSent: true });\\n    }\\n\\n    updatePassword = async (e) => {\\n        e.preventDefault();\\n        const { email, password, passwordConf, resetCode } = this.state;\\n        const sendData = { password, passwordConf, resetCode };\\n        const response = await fetch(api.base + api.handlers.passwords + email, {\\n            method: \\\"PUT\\\",\\n            body: JSON.stringify(sendData),\\n            headers: new Headers({\\n                \\\"Content-Type\\\": \\\"application/json\\\"\\n            })\\n        });\\n        if (response.status >= 300) {\\n            const error = await response.text();\\n            this.setError(error);\\n            return;\\n        }\\n        this.setError(\\\"\\\");\\n        alert(\\\"Your password has been updated\\\");\\n    }\\n\\n    setValue = (e) => {\\n        this.setState({ [e.target.name]: e.target.value });\\n    }\\n\\n    setError = (error) => {\\n        this.setState({ error });\\n    }\\n\\n    render() {\\n        const { email, password, passwordConf, resetCode, resetCodeSent, error } = this.state;\\n        return <>\\n            <Errors error={error} setError={this.setError} />\\n            {resetCodeSent ?\\n                <>\\n                    <form onSubmit={(e) => this.updatePassword(e)}>\\n                        <div>\\n                            <span>Password: </span>\\n                            <input name={\\\"password\\\"} type={\\\"password\\\"} onChange={this.setValue} value={password} />\\n                        </div>\\n                        <div>\\n                            <span>Password Confirmation: </span>\\n                            <input name={\\\"passwordConf\\\"} type={\\\"password\\\"} onChange={this.setValue} value={passwordConf} />\\n                        </div>\\n                        <div>\\n                            <span>Reset Code: </span>\\n                            <input name={\\\"resetCode\\\"} onChange={this.setValue} value={resetCode} />\\n                        </div>\\n                        <input type=\\\"submit\\\" value=\\\"Update my password\\\" />\\n                    </form>\\n                </>\\n                :\\n                <>\\n                    <form onSubmit={(e) => this.sendResetCode(e)}>\\n                        <div>\\n                            <span>Email: </span>\\n                            <input name={\\\"email\\\"} onChange={this.setValue} value={email} />\\n                        </div>\\n                        <input type=\\\"submit\\\" class=\\\"animated_btn\\\" value=\\\"Send me a reset code\\\" />\\n                    </form>\\n                </>}\\n            <button onClick={(e) => this.props.setPage(e, PageTypes.signIn)}>Back to sign in</button>\\n\\n\\n        </>\\n\\n    }\\n\\n\\n\\n}\\n\\nexport default ForgotPassword;\",\"import React from 'react';\\nimport PropTypes from 'prop-types';\\nimport PageTypes from '../../Constants/PageTypes/PageTypes';\\nimport SignUp from './Components/SignUp/SignUp';\\nimport SignIn from './Components/SignIn/SignIn';\\nimport ForgotPassword from './Components/ForgotPassword/ForgotPassword';\\n\\n/**\\n * @class Auth\\n * @description This is an auth object that controls what page\\n * is loaded based on sign up or sign in state\\n */\\nconst Auth = ({ page, setPage, setAuthToken, setUser }) => {\\n    switch (page) {\\n        case PageTypes.signUp:\\n            return <SignUp setPage={setPage} setAuthToken={setAuthToken} setUser={setUser} />\\n        case PageTypes.signIn:\\n            return <SignIn setPage={setPage} setAuthToken={setAuthToken} setUser={setUser} />\\n        case PageTypes.forgotPassword:\\n            return <ForgotPassword setPage={setPage} />;\\n        default:\\n            return <>Error, invalid path reached</>\\n    }\\n}\\n\\nAuth.propTypes = {\\n    page: PropTypes.string.isRequired,\\n    setPage: PropTypes.func.isRequired,\\n    setAuthToken: PropTypes.func.isRequired,\\n    setUser: PropTypes.func.isRequired\\n}\\n\\nexport default Auth;\",\"import React, { useState, useEffect } from 'react';\\nimport PageTypes from '../../../../Constants/PageTypes/PageTypes';\\nimport './Styles/MainPageContent.css';\\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\\n\\nconst MainPageContent = ({ user, setPage }) => {\\n    const [avatar, setAvatar] = useState(null)\\n\\n    async function fetchAvatar() {\\n        const response = await fetch(api.base + api.handlers.myuserAvatar, {\\n            method: \\\"GET\\\",\\n            headers: new Headers({\\n                \\\"Authorization\\\": localStorage.getItem(\\\"Authorization\\\")\\n            })\\n        });\\n        if (response.status >= 300) {\\n            // const error = await response.text();\\n            setAvatar(user.photoURL)\\n            return;\\n        }\\n        const imgBlob = await response.blob();\\n        setAvatar(URL.createObjectURL(imgBlob));\\n    }\\n\\n    useEffect(() => {\\n        fetchAvatar();\\n        return;\\n    }, []);\\n\\n    return <>\\n        <div>Welcome to my application, {user.firstName} {user.lastName}</div>\\n\\n        {avatar && <img className={\\\"avatar\\\"} src={avatar} alt={`${user.firstName}'s avatar`} />}\\n        <div><button onClick={(e) => { setPage(e, PageTypes.signedInUpdateName) }}>Update name</button></div>\\n        <div><button onClick={(e) => { setPage(e, PageTypes.signedInUpdateAvatar) }}>Update avatar</button></div>\\n        <div><button onClick={(e) => { setPage(e, PageTypes.signedInUploadImage) }}>Upload an image</button></div>\\n        <div><button onClick={(e) => { setPage(e, PageTypes.mainPage) }}>Photo Management</button></div>\\n    </>\\n}\\n\\nexport default MainPageContent;\",\"import React, { useState } from 'react';\\nimport PropTypes from 'prop-types';\\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\\nimport Errors from '../../../Errors/Errors';\\n\\nconst SignOutButton = ({ setAuthToken, setUser }) => {\\n    const [error, setError] = useState(\\\"\\\");\\n\\n    return <><button onClick={async (e) => {\\n        e.preventDefault();\\n        const response = await fetch(api.base + api.handlers.sessionsMine, {\\n            method: \\\"DELETE\\\",\\n            headers: new Headers({\\n                \\\"Authorization\\\": localStorage.getItem(\\\"Authorization\\\")\\n            })\\n        });\\n        if (response.status >= 300) {\\n            const error = await response.text();\\n            setError(error);\\n            return;\\n        }\\n        //localStorage.removeItem(\\\"Authorization\\\");\\n        setError(\\\"\\\");\\n        setAuthToken(\\\"\\\");\\n        setUser(null);\\n    }}>Sign out</button>\\n        {error &&\\n            <div>\\n                <Errors error={error} setError={setError} />\\n            </div>\\n        }\\n    </>\\n}\\n\\nSignOutButton.propTypes = {\\n    setAuthToken: PropTypes.func.isRequired,\\n    setUser: PropTypes.func.isRequired\\n}\\n\\nexport default SignOutButton;\",\"import React, { Component } from 'react';\\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\\nimport Errors from '../../../Errors/Errors';\\n\\nclass UpdateName extends Component {\\n    constructor(props) {\\n        super(props);\\n        this.state = {\\n            firstName: '',\\n            lastName: '',\\n            error: ''\\n        }\\n    }\\n\\n    sendRequest = async (e) => {\\n        e.preventDefault();\\n        const { firstName, lastName } = this.state;\\n        const sendData = { firstName, lastName };\\n        const response = await fetch(api.base + api.handlers.myuser, {\\n            method: \\\"PATCH\\\",\\n            body: JSON.stringify(sendData),\\n            headers: new Headers({\\n                \\\"Authorization\\\": localStorage.getItem(\\\"Authorization\\\"),\\n                \\\"Content-Type\\\": \\\"application/json\\\"\\n            })\\n        });\\n        if (response.status >= 300) {\\n            const error = await response.text();\\n            console.log(error);\\n            this.setError(error);\\n            return;\\n        }\\n        alert(\\\"Name changed\\\") // TODO make this better by refactoring errors\\n        const user = await response.json();\\n        this.props.setUser(user);\\n    }\\n\\n    setValue = (e) => {\\n        this.setState({ [e.target.name]: e.target.value });\\n    }\\n\\n    setError = (error) => {\\n        this.setState({ error })\\n    }\\n\\n    render() {\\n        const { firstName, lastName, error } = this.state;\\n        return <>\\n            <Errors error={error} setError={this.setError} />\\n            <div>Enter a new name</div>\\n            <form onSubmit={this.sendRequest}>\\n                <div>\\n                    <span>First name: </span>\\n                    <input name={\\\"firstName\\\"} value={firstName} onChange={this.setValue} />\\n                </div>\\n                <div>\\n                    <span>Last name: </span>\\n                    <input name={\\\"lastName\\\"} value={lastName} onChange={this.setValue} />\\n                </div>\\n                <input type=\\\"submit\\\" value=\\\"Change name\\\" />\\n            </form>\\n        </>\\n    }\\n\\n}\\n\\nexport default UpdateName;\",\"import React, { Component } from 'react';\\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\\nimport Errors from '../../../Errors/Errors';\\n\\nclass UpdateAvatar extends Component {\\n    constructor(props) {\\n        super(props);\\n        this.state = {\\n            file: null,\\n            error: ''\\n        }\\n    }\\n\\n    sendRequest = async (e) => {\\n        e.preventDefault();\\n        const { file } = this.state;\\n        let data = new FormData()\\n        data.append('uploadfile', file);\\n        const response = await fetch(api.base + api.handlers.myuserAvatar, {\\n            method: \\\"PUT\\\",\\n            body: data,\\n            headers: new Headers({\\n                \\\"Authorization\\\": localStorage.getItem(\\\"Authorization\\\"),\\n            })\\n        });\\n        if (response.status >= 300) {\\n            const error = await response.text();\\n            console.log(error);\\n            this.setError(error);\\n            return;\\n        }\\n        alert(\\\"Avatar changed\\\"); // TODO make this better by refactoring errors\\n    }\\n\\n    handleFile = (e) => {\\n        this.setState({\\n            file: e.target.files[0]\\n        })\\n    }\\n\\n    setError = (error) => {\\n        this.setState({ error })\\n    }\\n\\n    render() {\\n        const { error } = this.state;\\n        return <>\\n            <Errors error={error} setError={this.setError} />\\n            <div>Give yourself a new avatar</div>\\n            <form onSubmit={this.sendRequest}>\\n                <div>\\n                    <span>Upload new avatar </span>\\n                    <input type=\\\"file\\\" onChange={this.handleFile} />\\n                </div>\\n                <input type=\\\"submit\\\" value=\\\"Change avatar\\\" />\\n            </form>\\n        </>\\n    }\\n\\n}\\n\\nexport default UpdateAvatar;\",\"import React, { Component } from 'react';\\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\\nimport Errors from '../../../Errors/Errors';\\n\\nclass UploadImage extends Component {\\n    constructor(props) {\\n        super(props);\\n        this.state = {\\n            file: null,\\n            error: ''\\n        }\\n    }\\n\\n    sendRequest = async (e) => {\\n        e.preventDefault();\\n        const { file } = this.state;\\n        var fileName = file.name;\\n        let data = new FormData()\\n        data.append('file', file);\\n        const response = await fetch(api.base + api.handlers.upload, {\\n            method: \\\"POST\\\",\\n            body: data,\\n            headers: new Headers({\\n                // 'Content-Type': 'application/json',\\n                \\\"Authorization\\\": localStorage.getItem(\\\"Authorization\\\"),\\n            })\\n        });\\n        if (response.status >= 300) {\\n            const error = await response.text();\\n            this.setError(error);\\n            return;\\n        } else if (response.status === 200) {\\n            const response2 = await fetch(\\\"https://api.xutiancheng.me/v1/photos\\\", {\\n                method: \\\"POST\\\",\\n                body: JSON.stringify({\\\"url\\\": \\\"https://image-441.s3.amazonaws.com/\\\"+fileName}),\\n                headers: new Headers({\\n                    'Content-Type': 'application/json',\\n                    \\\"Authorization\\\": localStorage.getItem(\\\"Authorization\\\"),\\n                })\\n            });\\n            alert(\\\"uploaded, refresh the page and go Photo Management to see the photo\\\");\\n        }\\n    }\\n\\n    handleFile = (e) => {\\n        this.setState({\\n            file: e.target.files[0]\\n        });\\n    }\\n\\n    setError = (error) => {\\n        this.setState({ error })\\n    }\\n\\n    \\n    render() {\\n        const { firstName, lastName, error } = this.state;\\n        return <>\\n            <Errors error={error} setError={this.setError} />\\n            <div>Upload a new image</div>\\n            <form\\n                target=\\\"_blank\\\"\\n                encType=\\\"multipart/form-data\\\"\\n                // action=\\\"https://api.xutiancheng.me/v1/upload/\\\"\\n                method=\\\"post\\\"\\n                >\\n                <input type=\\\"file\\\" name=\\\"file\\\" onChange={(e) => this.handleFile(e)}/>\\n                {/* <input type=\\\"submit\\\" value=\\\"upload\\\"/>    */}\\n                <input type=\\\"submit\\\" value=\\\"upload\\\" onClick={(e) => this.sendRequest(e)} />   \\n            </form>\\n        </>\\n    }\\n\\n}\\n\\nexport default UploadImage;\",\"import React, { useEffect, useState } from 'react';\\nimport './Styles/MainPage.css';\\n\\nconst MainPage = (props) => {\\n    //data structure for getting images\\n    const [imgDataList,setImgDataList] = useState([]);\\n    //data structure for getting tags\\n    const [tagDataList,setTagDataList] = useState([]);\\n    //variable to store user imput tag name\\n    const [tagText, setTagText] = useState(\\\"\\\");\\n\\n    //map to store binding between tag id and object\\n    const [tagIDTable, setTagIDTable] = useState({});\\n    const [IDTagTable, setIDTagTable] = useState({});\\n    //variable to store selected tag\\n    const [tag,setTag] = useState(-1);\\n    const handleTagClick = (newTagId)=>{\\n        setTag(newTagId);\\n    }\\n\\n    const [notifyTagChange, setNotifyTagChange] = useState(false);\\n\\n    const NotifyTagUpdate = () =>{\\n        setTimeout(() => {\\n            setNotifyTagChange(!notifyTagChange)\\n        }, 1000);\\n    }\\n\\n    // TEST ONLY!!!backdoor code for getting authorization token.\\n    console.log(localStorage.getItem(\\\"Authorization\\\"));\\n\\n\\n    // Fetch all img data\\n    useEffect(() => {\\n        fetch(\\\"https://api.xutiancheng.me/v1/photos\\\",  { \\n            method: 'get', \\n            headers: new Headers({\\n                'Authorization': localStorage.getItem(\\\"Authorization\\\"), \\n            })\\n          })\\n        .then(resp => resp.json())\\n        .then(data => {setImgDataList(data)})\\n    },[]);\\n    // Fetch all tag data\\n    useEffect(() => {\\n        fetch(\\\"https://api.xutiancheng.me/v1/tags\\\",  { \\n            method: 'get', \\n            headers: new Headers({\\n                  'Authorization': localStorage.getItem(\\\"Authorization\\\"), \\n            })\\n          })\\n        .then(resp => resp.json())\\n        .then(data => \\n        {   \\n            for (let index = 0; index < data.length; index++) {\\n                const element = data[index];\\n                let obj={};\\n                obj[element.id] = element.name;\\n                Object.assign(tagIDTable, obj);\\n    \\n                let obj2={};\\n                obj2[element.name] = element.id;\\n                Object.assign(IDTagTable, obj2);\\n            }\\n            setTagDataList(data);\\n        })\\n\\n\\n    },[notifyTagChange]);\\n\\n    \\n    return (\\n    <div>\\n        <TagTextField NotifyTagUpdate={NotifyTagUpdate}/>\\n        <TagButtonList tags={tagDataList} setTag={handleTagClick} NotifyTagUpdate={props.NotifyTagUpdate}/>\\n        <ImgCardList tag={tag} imgDataList={imgDataList} tagIDTable={tagIDTable} IDTagTable={IDTagTable} NotifyTagUpdate={NotifyTagUpdate}/>\\n        {/* <button onClick={BindTagImg} key=\\\"12345\\\" IDTagTable={IDTagTable}>Add Tag</button> */}\\n        {/* <ImgCardList tags={tagDataList} tag={tag} imgDataList={imgDataList}/> */}\\n    </div>\\n    );\\n    \\n}\\n\\n//populates the tag buttons into a list\\nconst TagButtonList = (props)=>{\\n    const TagLists = props.tags.map(data=><TagButton key={data.id} tag={data} setTag={props.setTag} NotifyTagUpdate={props.NotifyTagUpdate}/>);\\n    \\n    return (<div style={{display:\\\"flex\\\",\\\"flexDirection\\\": \\\"row\\\"}}>{TagLists}</div>)\\n}\\n\\n//gets the new tag name typed by user, after user press 'Enter', pass it to /v1/tags\\n//with payload: {\\\"name\\\": \\\"tagname\\\"}\\nconst TagTextField = (props) => {\\n    return <input\\n    type=\\\"text\\\"\\n    placeholder=\\\"create new tag\\\"\\n    onKeyPress={event => {\\n                if (event.key === 'Enter') {\\n                    var newTag = event.target.value;\\n                        // POST request using fetch inside useEffect React hook\\n                        const requestOptions = {\\n                            method: 'post',\\n                            headers: new Headers({\\n                                'Content-Type': 'application/json',\\n                                'Authorization': localStorage.getItem(\\\"Authorization\\\"), \\n                              }),\\n                            body: JSON.stringify({\\\"name\\\": newTag})\\n                        };\\n\\n                        fetch(\\\"https://api.xutiancheng.me/v1/tags\\\", requestOptions);\\n                        props.NotifyTagUpdate();\\n                        alert(\\\"tag created, refresh the page and go Photo Management to see the photo\\\");\\n\\n                }\\n              }}\\n    />;\\n\\n};\\n\\n//individual button showing each tag\\nconst TagButton = (props)=>{\\n\\n    const handleTagClick = (e)=>{\\n        props.setTag(props.tag.id)\\n    }\\n        return <div style={{display:\\\"flex\\\",flexWrap:\\\"wrap\\\",flexDirection: \\\"row\\\", margin:\\\"15px\\\"}}>\\n            <button onClick={handleTagClick}>{props.tag.name}</button>\\n            <BindTagMember tagID = {props.tag.id} NotifyTagUpdate={props.NotifyTagUpdate}/>\\n        </div>\\n}\\n\\n//populates the image cards into a list\\nconst ImgCardList = (props) => {\\n    var photoListItems;\\n    if (props.tag === -1) {\\n        photoListItems = props.imgDataList.map((data) => {\\n\\n            return <ImgCard key={data.id} img={data} style={{display:\\\"flex\\\",\\\"flex-wrap\\\":\\\"wrap\\\",\\\"flexDirection\\\": \\\"row\\\"}}  tagIDTable={props.tagIDTable} IDTagTable={props.IDTagTable} NotifyTagUpdate={props.NotifyTagUpdate}/>\\n        });\\n    } else {\\n\\n        photoListItems = props.imgDataList.map((data) => {\\n            var tagIds = []\\n            data.tags.forEach(e => {\\n                tagIds.push(e.id)\\n            });\\n            if (tagIds.includes(props.tag)){\\n                // return <ImgCard key={data.id} img={data} tags={props.tags}/>\\n\\n                return <ImgCard key={data.id} img={data} style={{display:\\\"flex\\\",\\\"flex-wrap\\\":\\\"wrap\\\",\\\"flexDirection\\\": \\\"row\\\"}} tagIDTable={props.tagIDTable} IDTagTable={props.IDTagTable} NotifyTagUpdate={props.NotifyTagUpdate}/>\\n            }\\n        });\\n    }\\n    \\n    return (photoListItems)\\n}\\n\\n//individual image card, still missing function that when clicked,\\n//lets user add a tag for this photo\\nconst ImgCard = (props) =>{\\n    \\n    let tagNameList = [];\\n    for (let index = 0; index < props.img.tags.length; index++) {\\n        let tagIDFromImage = props.img.tags[index].id;\\n        let tagID = props.tagIDTable[tagIDFromImage];\\n        tagNameList.push(tagID);\\n    }\\n    let displayResult = tagNameList.map((item, i) => (\\n          <p key={i} className=\\\"font-size-0-8\\\">\\n            {item}\\n          </p>)\\n    );\\n    \\n    return(\\n    <div>\\n        <img src={props.img.url} alt=\\\"wrong image url\\\" style={{width:\\\"150px\\\",height:\\\"150px\\\"}}/>\\n        {displayResult}\\n        <BindTagImg imgID={props.img.id} IDTagTable={props.IDTagTable} NotifyTagUpdate={props.NotifyTagUpdate}/>\\n         {/* <button onClick={BindTagImg} key={props.img.id} IDTagTable={props.IDTagTable}>Add Tag</button> */}\\n    </div>\\n     );\\n    \\n}\\n\\n//bind image to a new tag name input by user and post \\n//it to /v1/photos/:photoID/tag/:tagID \\nconst BindTagImg = (props)=>{\\n    var imageID = props.imgID;\\n    return <input\\n    type=\\\"text\\\"\\n    placeholder=\\\"bind photo with old tag\\\"\\n    onKeyPress={event => {\\n                if (event.key === 'Enter') {\\n                    var tagName = event.target.value;\\n                    var tagID = props.IDTagTable[tagName];\\n                    \\n                        // POST request using fetch inside useEffect React hook\\n                        const requestOptions = {\\n                            method: 'post',\\n                            headers: new Headers({\\n                                'Authorization': localStorage.getItem(\\\"Authorization\\\"), \\n                              }),\\n                        };\\n                        fetch(\\\"https://api.xutiancheng.me/v1/photos/\\\"+imageID+\\\"/tag/\\\"+tagID, requestOptions);\\n                        props.NotifyTagUpdate();\\n                        alert(\\\"tag updated, refresh the page and go Photo Management to see the photo\\\");\\n\\n                }\\n              }}\\n    />;\\n}\\n\\n//bind tag to a user id input by user and post \\n//it\\nconst BindTagMember = (props)=>{\\n    var tagID = props.tagID;\\n    return <input\\n    type=\\\"text\\\"\\n    placeholder=\\\"userID\\\"\\n    style={{width:\\\"50px\\\"}}\\n    onKeyPress={event => {\\n                if (event.key === 'Enter') {\\n                    var userID = event.target.value;\\n                    \\n                        // POST request using fetch inside useEffect React hook\\n                        const requestOptions = {\\n                            method: 'post',\\n                            headers: new Headers({\\n                                'Content-Type': 'application/json',\\n                                'Authorization': localStorage.getItem(\\\"Authorization\\\"), \\n                              }),\\n                            body: JSON.stringify({\\\"id\\\": userID})\\n                        };\\n                        fetch(\\\"https://api.xutiancheng.me/v1/tags/\\\"+tagID+\\\"/members\\\", requestOptions)\\n                        props.NotifyTagUpdate();\\n                        alert(\\\"member added\\\");\\n\\n                }\\n              }}\\n    />;\\n}\\n\\n\\nexport default MainPage;\",\"import React from 'react';\\nimport PageTypes from '../../Constants/PageTypes/PageTypes';\\nimport MainPageContent from './Content/MainPageContent/MainPageContent';\\nimport SignOutButton from './Components/SignOutButton/SignOutButton';\\nimport UpdateName from './Components/UpdateName/UpdateName';\\nimport UpdateAvatar from './Components/UpdateAvatar/UpdateAvatar';\\nimport UploadImage from './Components/UploadImage/UploadImage';\\nimport MainPage from '../../MainPage.js';\\n\\n\\nconst Main = ({ page, setPage, setAuthToken, setUser, user }) => {\\n    let content = <></>\\n    let contentPage = true;\\n    switch (page) {\\n        case PageTypes.signedInMain:\\n            content = <MainPageContent user={user} setPage={setPage} />;\\n            break;\\n        case PageTypes.signedInUpdateName:\\n            content = <UpdateName user={user} setUser={setUser} />;\\n            break;\\n        case PageTypes.signedInUpdateAvatar:\\n            content = <UpdateAvatar user={user} setUser={setUser} />;\\n            break;\\n        case PageTypes.signedInUploadImage:\\n            content = <UploadImage user={user} setUser={setUser} />;\\n            break;\\n        case PageTypes.mainPage:\\n            content = <MainPage user={user}/>\\n            break;\\n        default:\\n            content = <>Error, invalid path reached</>;\\n            contentPage = false;\\n            break;\\n    }\\n    return <>\\n        {content}\\n        {contentPage && <button onClick={(e) => setPage(e, PageTypes.signedInMain)}>Back to main</button>}\\n        <SignOutButton setUser={setUser} setAuthToken={setAuthToken} />\\n    </>\\n}\\n\\nexport default Main;\",\"import React, { Component } from 'react';\\n// import {\\n//     Route,\\n//     BrowserRouter,\\n//     Switch,\\n//   } from 'react-router-dom';\\nimport Auth from './Components/Auth/Auth';\\nimport PageTypes from './Constants/PageTypes/PageTypes';\\nimport Main from './Components/Main/Main';\\nimport './Styles/App.css';\\nimport api from './Constants/APIEndpoints/APIEndpoints';\\nimport MainPage from './MainPage.js';\\n// import login from './login.js';\\n\\n\\nclass App extends Component {\\n    constructor() {\\n        super();\\n        this.state = {\\n            page: localStorage.getItem(\\\"Authorization\\\") ? PageTypes.signedInMain : PageTypes.signIn,\\n            authToken: localStorage.getItem(\\\"Authorization\\\") || null,\\n            user: null\\n        }\\n\\n        this.getCurrentUser()\\n    }\\n\\n\\n    /**\\n     * @description Gets the users\\n     */\\n    getCurrentUser = async () => {\\n        if (!this.state.authToken) {\\n            return;\\n        }\\n        const response = await fetch(api.base + api.handlers.myuser, {\\n            headers: new Headers({\\n                \\\"Authorization\\\": this.state.authToken\\n            })\\n        });\\n        if (response.status >= 300) {\\n            alert(\\\"Unable to verify login. Logging out...\\\");\\n            localStorage.setItem(\\\"Authorization\\\", \\\"\\\");\\n            this.setAuthToken(\\\"\\\");\\n            this.setUser(null)\\n            return;\\n        }\\n        const user = await response.json()\\n        this.setUser(user);\\n\\n    }\\n\\n    /**\\n     * @description sets the page type to sign in\\n     */\\n    setPageToSignIn = (e) => {\\n        e.preventDefault();\\n        this.setState({ page: PageTypes.signIn });\\n    }\\n\\n    /**\\n     * @description sets the page type to sign up\\n     */\\n    setPageToSignUp = (e) => {\\n        e.preventDefault();\\n        this.setState({ page: PageTypes.signUp });\\n    }\\n\\n    setPage = (e, page) => {\\n        e.preventDefault();\\n        this.setState({ page });\\n    }\\n\\n    /**\\n     * @description sets auth token\\n     */\\n    setAuthToken = (authToken) => {\\n        this.setState({ authToken, page: authToken === \\\"\\\" ? PageTypes.signIn : PageTypes.signedInMain });\\n    }\\n\\n    /**\\n     * @description sets the user\\n     */\\n    setUser = (user) => {\\n        this.setState({ user });\\n    }\\n\\n    render() {\\n        const { page, user } = this.state;\\n        \\n\\n        return (\\n            <div>\\n                <h1 id=\\\"proj-title\\\">441 Photo Management</h1>\\n                {user ?\\n                    <Main page={page}\\n                        setPage={this.setPage}\\n                        setAuthToken={this.setAuthToken}\\n                        user={user}\\n                        setUser={this.setUser} />\\n                    :\\n                    <Auth page={page}\\n                        setPage={this.setPage}\\n                        setAuthToken={this.setAuthToken}\\n                        setUser={this.setUser} />\\n                }\\n            </div>\\n        );\\n    }\\n}\\n\\nexport default App;\",\"// This optional code is used to register a service worker.\\n// register() is not called by default.\\n\\n// This lets the app load faster on subsequent visits in production, and gives\\n// it offline capabilities. However, it also means that developers (and users)\\n// will only see deployed updates on subsequent visits to a page, after all the\\n// existing tabs open on the page have been closed, since previously cached\\n// resources are updated in the background.\\n\\n// To learn more about the benefits of this model and instructions on how to\\n// opt-in, read http://bit.ly/CRA-PWA\\n\\nconst isLocalhost = Boolean(\\n  window.location.hostname === 'localhost' ||\\n    // [::1] is the IPv6 localhost address.\\n    window.location.hostname === '[::1]' ||\\n    // 127.0.0.1/8 is considered localhost for IPv4.\\n    window.location.hostname.match(\\n      /^127(?:\\\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\\n    )\\n);\\n\\nexport function register(config) {\\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\\n    // The URL constructor is available in all browsers that support SW.\\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\\n    if (publicUrl.origin !== window.location.origin) {\\n      // Our service worker won't work if PUBLIC_URL is on a different origin\\n      // from what our page is served on. This might happen if a CDN is used to\\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\\n      return;\\n    }\\n\\n    window.addEventListener('load', () => {\\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\\n\\n      if (isLocalhost) {\\n        // This is running on localhost. Let's check if a service worker still exists or not.\\n        checkValidServiceWorker(swUrl, config);\\n\\n        // Add some additional logging to localhost, pointing developers to the\\n        // service worker/PWA documentation.\\n        navigator.serviceWorker.ready.then(() => {\\n          console.log(\\n            'This web app is being served cache-first by a service ' +\\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\\n          );\\n        });\\n      } else {\\n        // Is not localhost. Just register service worker\\n        registerValidSW(swUrl, config);\\n      }\\n    });\\n  }\\n}\\n\\nfunction registerValidSW(swUrl, config) {\\n  navigator.serviceWorker\\n    .register(swUrl)\\n    .then(registration => {\\n      registration.onupdatefound = () => {\\n        const installingWorker = registration.installing;\\n        if (installingWorker == null) {\\n          return;\\n        }\\n        installingWorker.onstatechange = () => {\\n          if (installingWorker.state === 'installed') {\\n            if (navigator.serviceWorker.controller) {\\n              // At this point, the updated precached content has been fetched,\\n              // but the previous service worker will still serve the older\\n              // content until all client tabs are closed.\\n              console.log(\\n                'New content is available and will be used when all ' +\\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\\n              );\\n\\n              // Execute callback\\n              if (config && config.onUpdate) {\\n                config.onUpdate(registration);\\n              }\\n            } else {\\n              // At this point, everything has been precached.\\n              // It's the perfect time to display a\\n              // \\\"Content is cached for offline use.\\\" message.\\n              console.log('Content is cached for offline use.');\\n\\n              // Execute callback\\n              if (config && config.onSuccess) {\\n                config.onSuccess(registration);\\n              }\\n            }\\n          }\\n        };\\n      };\\n    })\\n    .catch(error => {\\n      console.error('Error during service worker registration:', error);\\n    });\\n}\\n\\nfunction checkValidServiceWorker(swUrl, config) {\\n  // Check if the service worker can be found. If it can't reload the page.\\n  fetch(swUrl)\\n    .then(response => {\\n      // Ensure service worker exists, and that we really are getting a JS file.\\n      const contentType = response.headers.get('content-type');\\n      if (\\n        response.status === 404 ||\\n        (contentType != null && contentType.indexOf('javascript') === -1)\\n      ) {\\n        // No service worker found. Probably a different app. Reload the page.\\n        navigator.serviceWorker.ready.then(registration => {\\n          registration.unregister().then(() => {\\n            window.location.reload();\\n          });\\n        });\\n      } else {\\n        // Service worker found. Proceed as normal.\\n        registerValidSW(swUrl, config);\\n      }\\n    })\\n    .catch(() => {\\n      console.log(\\n        'No internet connection found. App is running in offline mode.'\\n      );\\n    });\\n}\\n\\nexport function unregister() {\\n  if ('serviceWorker' in navigator) {\\n    navigator.serviceWorker.ready.then(registration => {\\n      registration.unregister();\\n    });\\n  }\\n}\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport App from './App';\\nimport * as serviceWorker from './serviceWorker';\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: http://bit.ly/CRA-PWA\\nserviceWorker.unregister();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(28)},20:function(e,t,a){},22:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){},28:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),s=a(11),o=a.n(s),i=a(1),u=a.n(i),c=a(2),l=a(3),m=a(4),p=a(6),d=a(5),f=a(7),h={signIn:\"SIGNIN\",signUp:\"SIGNUP\",signedInMain:\"SIGNEDIN_MAIN\",signedInUpdateName:\"SIGNEDIN_UPDATENAME\",signedInUpdateAvatar:\"SIGNEDIN_UPDATEAVATAR\",signedInUploadImage:\"SIGNEDIN_UPLOADIMAGE\",forgotPassword:\"FORGOT_PASSWORD\",mainPage:\"MAIN_PAGE\"},g=a(9),b=function(e){var t=e.setField,a=e.submitForm,n=e.values,s=e.fields;return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"form\",{onSubmit:a},s.map(function(e){var a=e.key,s=e.name;return r.a.createElement(\"div\",{key:a},r.a.createElement(\"span\",null,s,\": \"),r.a.createElement(\"input\",{value:n[a],name:a,onChange:t,type:\"password\"===a||\"passwordConf\"===a?\"password\":\"\"}))}),r.a.createElement(\"input\",{className:\"animated_btn\",type:\"submit\",value:\"Submit\"})))},E={base:\"https://api.xutiancheng.me\",testbase:\"https://localhost:8080\",handlers:{users:\"/v1/users\",myuser:\"/v1/users/me\",myuserAvatar:\"/v1/users/me/avatar\",sessions:\"/v1/sessions\",sessionsMine:\"/v1/sessions/mine\",resetPasscode:\"/v1/resetcodes\",passwords:\"/v1/passwords/\",upload:\"/v1/upload/\"}},v=(a(20),function(e){var t=e.error,a=e.setError;switch(t){case\"\":return r.a.createElement(r.a.Fragment,null);default:return r.a.createElement(\"div\",{className:\"error\"},r.a.createElement(\"span\",{className:\"error-hide\",onClick:function(){return a(\"\")}},\"x\"),\"Error: \",t)}}),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).setField=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.setError=function(e){a.setState({error:e})},a.submitForm=function(){var e=Object(c.a)(u.a.mark(function e(t){var n,r,s,o,i,c,l,m,p,d,f,h;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.email,s=n.userName,o=n.firstName,i=n.lastName,c=n.password,l=n.passwordConf,m={email:r,userName:s,firstName:o,lastName:i,password:c,passwordConf:l},e.next=5,fetch(E.base+E.handlers.users,{method:\"POST\",body:JSON.stringify(m),headers:new Headers({\"Content-Type\":\"application/json\"})});case 5:if(!((p=e.sent).status>=300)){e.next=12;break}return e.next=9,p.text();case 9:return d=e.sent,a.setError(d),e.abrupt(\"return\");case 12:return f=p.headers.get(\"Authorization\"),localStorage.setItem(\"Authorization\",f),a.setError(\"\"),a.props.setAuthToken(f),e.next=18,p.json();case 18:h=e.sent,a.props.setUser(h);case 20:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={email:\"\",userName:\"\",firstName:\"\",lastName:\"\",password:\"\",passwordConf:\"\",error:\"\"},a.fields=[{name:\"Email\",key:\"email\"},{name:\"Username\",key:\"userName\"},{name:\"First name\",key:\"firstName\"},{name:\"Last name\",key:\"lastName\"},{name:\"Password\",key:\"password\"},{name:\"Password Confirmation\",key:\"passwordConf\"}],a}return Object(f.a)(t,e),Object(m.a)(t,[{key:\"render\",value:function(){var e=this,t=this.state,a=this.state.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{error:a,setError:this.setError}),r.a.createElement(b,{setField:this.setField,submitForm:this.submitForm,values:t,fields:this.fields}),r.a.createElement(\"button\",{onClick:function(t){return e.props.setPage(t,h.signIn)}},\"Sign in instead\"))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).setField=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.setError=function(e){a.setState({error:e})},a.submitForm=function(){var e=Object(c.a)(u.a.mark(function e(t){var n,r,s,o,i,c,l,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.email,s=n.password,o={email:r,password:s},e.next=5,fetch(E.base+E.handlers.sessions,{method:\"POST\",body:JSON.stringify(o),headers:new Headers({\"Content-Type\":\"application/json\"})});case 5:if(!((i=e.sent).status>=300)){e.next=12;break}return e.next=9,i.text();case 9:return c=e.sent,a.setError(c),e.abrupt(\"return\");case 12:return l=i.headers.get(\"Authorization\"),localStorage.setItem(\"Authorization\",l),a.setError(\"\"),a.props.setAuthToken(l),e.next=18,i.json();case 18:m=e.sent,a.props.setUser(m);case 20:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={email:\"\",password:\"\",error:\"\"},a.fields=[{name:\"Email\",key:\"email\"},{name:\"Password\",key:\"password\"}],a}return Object(f.a)(t,e),Object(m.a)(t,[{key:\"render\",value:function(){var e=this,t=this.state,a=this.state.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{error:a,setError:this.setError}),r.a.createElement(b,{setField:this.setField,submitForm:this.submitForm,values:t,fields:this.fields}),r.a.createElement(\"button\",{onClick:function(t){return e.props.setPage(t,h.signUp)}},\"Sign up instead\"),r.a.createElement(\"button\",{onClick:function(t){return e.props.setPage(t,h.forgotPassword)}},\"Forgot password\"))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).sendResetCode=function(){var e=Object(c.a)(u.a.mark(function e(t){var n,r,s,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.email,r={email:n},e.next=5,fetch(E.base+E.handlers.resetPasscode,{method:\"POST\",body:JSON.stringify(r),headers:new Headers({\"Content-Type\":\"application/json\"})});case 5:if(!((s=e.sent).status>=300)){e.next=12;break}return e.next=9,s.text();case 9:return o=e.sent,a.setError(o),e.abrupt(\"return\");case 12:a.setError(\"\"),alert(\"A reset code has been sent to your email\"),a.setState({resetCodeSent:!0});case 15:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.updatePassword=function(){var e=Object(c.a)(u.a.mark(function e(t){var n,r,s,o,i,c,l,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.email,s=n.password,o=n.passwordConf,i=n.resetCode,c={password:s,passwordConf:o,resetCode:i},e.next=5,fetch(E.base+E.handlers.passwords+r,{method:\"PUT\",body:JSON.stringify(c),headers:new Headers({\"Content-Type\":\"application/json\"})});case 5:if(!((l=e.sent).status>=300)){e.next=12;break}return e.next=9,l.text();case 9:return m=e.sent,a.setError(m),e.abrupt(\"return\");case 12:a.setError(\"\"),alert(\"Your password has been updated\");case 14:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.setValue=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.setError=function(e){a.setState({error:e})},a.state={email:\"\",password:\"\",passwordConf:\"\",resetCode:\"\",resetCodeSent:!1,error:\"\"},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:\"render\",value:function(){var e=this,t=this.state,a=t.email,n=t.password,s=t.passwordConf,o=t.resetCode,i=t.resetCodeSent,u=t.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{error:u,setError:this.setError}),i?r.a.createElement(r.a.Fragment,null,r.a.createElement(\"form\",{onSubmit:function(t){return e.updatePassword(t)}},r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"Password: \"),r.a.createElement(\"input\",{name:\"password\",type:\"password\",onChange:this.setValue,value:n})),r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"Password Confirmation: \"),r.a.createElement(\"input\",{name:\"passwordConf\",type:\"password\",onChange:this.setValue,value:s})),r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"Reset Code: \"),r.a.createElement(\"input\",{name:\"resetCode\",onChange:this.setValue,value:o})),r.a.createElement(\"input\",{type:\"submit\",value:\"Update my password\"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(\"form\",{onSubmit:function(t){return e.sendResetCode(t)}},r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"Email: \"),r.a.createElement(\"input\",{name:\"email\",onChange:this.setValue,value:a})),r.a.createElement(\"input\",{type:\"submit\",class:\"animated_btn\",value:\"Send me a reset code\"}))),r.a.createElement(\"button\",{onClick:function(t){return e.props.setPage(t,h.signIn)}},\"Back to sign in\"))}}]),t}(n.Component),k=function(e){var t=e.page,a=e.setPage,n=e.setAuthToken,s=e.setUser;switch(t){case h.signUp:return r.a.createElement(y,{setPage:a,setAuthToken:n,setUser:s});case h.signIn:return r.a.createElement(w,{setPage:a,setAuthToken:n,setUser:s});case h.forgotPassword:return r.a.createElement(O,{setPage:a});default:return r.a.createElement(r.a.Fragment,null,\"Error, invalid path reached\")}},j=a(8),T=(a(22),function(e){var t=e.user,a=e.setPage,s=Object(n.useState)(null),o=Object(j.a)(s,2),i=o[0],l=o[1];function m(){return(m=Object(c.a)(u.a.mark(function e(){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(E.base+E.handlers.myuserAvatar,{method:\"GET\",headers:new Headers({Authorization:localStorage.getItem(\"Authorization\")})});case 2:if(!((a=e.sent).status>=300)){e.next=6;break}return l(t.photoURL),e.abrupt(\"return\");case 6:return e.next=8,a.blob();case 8:n=e.sent,l(URL.createObjectURL(n));case 10:case\"end\":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){!function(){m.apply(this,arguments)}()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",null,\"Welcome to my application, \",t.firstName,\" \",t.lastName),i&&r.a.createElement(\"img\",{className:\"avatar\",src:i,alt:\"\".concat(t.firstName,\"'s avatar\")}),r.a.createElement(\"div\",null,r.a.createElement(\"button\",{onClick:function(e){a(e,h.signedInUpdateName)}},\"Update name\")),r.a.createElement(\"div\",null,r.a.createElement(\"button\",{onClick:function(e){a(e,h.signedInUpdateAvatar)}},\"Update avatar\")),r.a.createElement(\"div\",null,r.a.createElement(\"button\",{onClick:function(e){a(e,h.signedInUploadImage)}},\"Upload an image\")),r.a.createElement(\"div\",null,r.a.createElement(\"button\",{onClick:function(e){a(e,h.mainPage)}},\"Photo Management\")))}),x=function(e){var t=e.setAuthToken,a=e.setUser,s=Object(n.useState)(\"\"),o=Object(j.a)(s,2),i=o[0],l=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(\"button\",{onClick:function(){var e=Object(c.a)(u.a.mark(function e(n){var r,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch(E.base+E.handlers.sessionsMine,{method:\"DELETE\",headers:new Headers({Authorization:localStorage.getItem(\"Authorization\")})});case 3:if(!((r=e.sent).status>=300)){e.next=10;break}return e.next=7,r.text();case 7:return s=e.sent,l(s),e.abrupt(\"return\");case 10:l(\"\"),t(\"\"),a(null);case 13:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},\"Sign out\"),i&&r.a.createElement(\"div\",null,r.a.createElement(v,{error:i,setError:l})))},S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).sendRequest=function(){var e=Object(c.a)(u.a.mark(function e(t){var n,r,s,o,i,c,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.firstName,s=n.lastName,o={firstName:r,lastName:s},e.next=5,fetch(E.base+E.handlers.myuser,{method:\"PATCH\",body:JSON.stringify(o),headers:new Headers({Authorization:localStorage.getItem(\"Authorization\"),\"Content-Type\":\"application/json\"})});case 5:if(!((i=e.sent).status>=300)){e.next=13;break}return e.next=9,i.text();case 9:return c=e.sent,console.log(c),a.setError(c),e.abrupt(\"return\");case 13:return alert(\"Name changed\"),e.next=16,i.json();case 16:l=e.sent,a.props.setUser(l);case 18:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.setValue=function(e){a.setState(Object(g.a)({},e.target.name,e.target.value))},a.setError=function(e){a.setState({error:e})},a.state={firstName:\"\",lastName:\"\",error:\"\"},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:\"render\",value:function(){var e=this.state,t=e.firstName,a=e.lastName,n=e.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{error:n,setError:this.setError}),r.a.createElement(\"div\",null,\"Enter a new name\"),r.a.createElement(\"form\",{onSubmit:this.sendRequest},r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"First name: \"),r.a.createElement(\"input\",{name:\"firstName\",value:t,onChange:this.setValue})),r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"Last name: \"),r.a.createElement(\"input\",{name:\"lastName\",value:a,onChange:this.setValue})),r.a.createElement(\"input\",{type:\"submit\",value:\"Change name\"})))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).sendRequest=function(){var e=Object(c.a)(u.a.mark(function e(t){var n,r,s,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.file,(r=new FormData).append(\"uploadfile\",n),e.next=6,fetch(E.base+E.handlers.myuserAvatar,{method:\"PUT\",body:r,headers:new Headers({Authorization:localStorage.getItem(\"Authorization\")})});case 6:if(!((s=e.sent).status>=300)){e.next=14;break}return e.next=10,s.text();case 10:return o=e.sent,console.log(o),a.setError(o),e.abrupt(\"return\");case 14:alert(\"Avatar changed\");case 15:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleFile=function(e){a.setState({file:e.target.files[0]})},a.setError=function(e){a.setState({error:e})},a.state={file:null,error:\"\"},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:\"render\",value:function(){var e=this.state.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{error:e,setError:this.setError}),r.a.createElement(\"div\",null,\"Give yourself a new avatar\"),r.a.createElement(\"form\",{onSubmit:this.sendRequest},r.a.createElement(\"div\",null,r.a.createElement(\"span\",null,\"Upload new avatar \"),r.a.createElement(\"input\",{type:\"file\",onChange:this.handleFile})),r.a.createElement(\"input\",{type:\"submit\",value:\"Change avatar\"})))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).sendRequest=function(){var e=Object(c.a)(u.a.mark(function e(t){var n,r,s,o,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state.file,r=n.name,(s=new FormData).append(\"file\",n),e.next=7,fetch(E.base+E.handlers.upload,{method:\"POST\",body:s,headers:new Headers({Authorization:localStorage.getItem(\"Authorization\")})});case 7:if(!((o=e.sent).status>=300)){e.next=16;break}return e.next=11,o.text();case 11:return i=e.sent,a.setError(i),e.abrupt(\"return\");case 16:if(200!==o.status){e.next=21;break}return e.next=19,fetch(\"https://api.xutiancheng.me/v1/photos\",{method:\"POST\",body:JSON.stringify({url:\"https://image-441.s3.amazonaws.com/\"+r}),headers:new Headers({\"Content-Type\":\"application/json\",Authorization:localStorage.getItem(\"Authorization\")})});case 19:e.sent,alert(\"uploaded, refresh the page and go Photo Management to see the photo\");case 21:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleFile=function(e){a.setState({file:e.target.files[0]})},a.setError=function(e){a.setState({error:e})},a.state={file:null,error:\"\"},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:\"render\",value:function(){var e=this,t=this.state,a=(t.firstName,t.lastName,t.error);return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{error:a,setError:this.setError}),r.a.createElement(\"div\",null,\"Upload a new image\"),r.a.createElement(\"form\",{target:\"_blank\",encType:\"multipart/form-data\",method:\"post\"},r.a.createElement(\"input\",{type:\"file\",name:\"file\",onChange:function(t){return e.handleFile(t)}}),r.a.createElement(\"input\",{type:\"submit\",value:\"upload\",onClick:function(t){return e.sendRequest(t)}})))}}]),t}(n.Component),U=(a(24),function(e){var t=e.tags.map(function(t){return r.a.createElement(C,{key:t.id,tag:t,setTag:e.setTag,NotifyTagUpdate:e.NotifyTagUpdate})});return r.a.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"row\"}},t)}),A=function(e){return r.a.createElement(\"input\",{type:\"text\",placeholder:\"create new tag\",onKeyPress:function(t){if(\"Enter\"===t.key){var a=t.target.value,n={method:\"post\",headers:new Headers({\"Content-Type\":\"application/json\",Authorization:localStorage.getItem(\"Authorization\")}),body:JSON.stringify({name:a})};fetch(\"https://api.xutiancheng.me/v1/tags\",n),e.NotifyTagUpdate(),alert(\"tag created, refresh the page and go Photo Management to see the photo\")}}})},C=function(e){return r.a.createElement(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",flexDirection:\"row\",margin:\"15px\"}},r.a.createElement(\"button\",{onClick:function(t){e.setTag(e.tag.id)}},e.tag.name),r.a.createElement(z,{tagID:e.tag.id,NotifyTagUpdate:e.NotifyTagUpdate}))},P=function(e){return-1===e.tag?e.imgDataList.map(function(t){return r.a.createElement(D,{key:t.id,img:t,style:{display:\"flex\",\"flex-wrap\":\"wrap\",flexDirection:\"row\"},tagIDTable:e.tagIDTable,IDTagTable:e.IDTagTable,NotifyTagUpdate:e.NotifyTagUpdate})}):e.imgDataList.map(function(t){var a=[];if(t.tags.forEach(function(e){a.push(e.id)}),a.includes(e.tag))return r.a.createElement(D,{key:t.id,img:t,style:{display:\"flex\",\"flex-wrap\":\"wrap\",flexDirection:\"row\"},tagIDTable:e.tagIDTable,IDTagTable:e.IDTagTable,NotifyTagUpdate:e.NotifyTagUpdate})})},D=function(e){for(var t=[],a=0;a<e.img.tags.length;a++){var n=e.img.tags[a].id,s=e.tagIDTable[n];t.push(s)}var o=t.map(function(e,t){return r.a.createElement(\"p\",{key:t,className:\"font-size-0-8\"},e)});return r.a.createElement(\"div\",null,r.a.createElement(\"img\",{src:e.img.url,alt:\"wrong image url\",style:{width:\"150px\",height:\"150px\"}}),o,r.a.createElement(F,{imgID:e.img.id,IDTagTable:e.IDTagTable,NotifyTagUpdate:e.NotifyTagUpdate}))},F=function(e){var t=e.imgID;return r.a.createElement(\"input\",{type:\"text\",placeholder:\"bind photo with old tag\",onKeyPress:function(a){if(\"Enter\"===a.key){var n=a.target.value,r=e.IDTagTable[n],s={method:\"post\",headers:new Headers({Authorization:localStorage.getItem(\"Authorization\")})};fetch(\"https://api.xutiancheng.me/v1/photos/\"+t+\"/tag/\"+r,s),e.NotifyTagUpdate(),alert(\"tag updated, refresh the page and go Photo Management to see the photo\")}}})},z=function(e){var t=e.tagID;return r.a.createElement(\"input\",{type:\"text\",placeholder:\"userID\",style:{width:\"50px\"},onKeyPress:function(a){if(\"Enter\"===a.key){var n=a.target.value,r={method:\"post\",headers:new Headers({\"Content-Type\":\"application/json\",Authorization:localStorage.getItem(\"Authorization\")}),body:JSON.stringify({id:n})};fetch(\"https://api.xutiancheng.me/v1/tags/\"+t+\"/members\",r),e.NotifyTagUpdate(),alert(\"member added\")}}})},H=function(e){var t=Object(n.useState)([]),a=Object(j.a)(t,2),s=a[0],o=a[1],i=Object(n.useState)([]),u=Object(j.a)(i,2),c=u[0],l=u[1],m=Object(n.useState)(\"\"),p=Object(j.a)(m,2),d=(p[0],p[1],Object(n.useState)({})),f=Object(j.a)(d,2),h=f[0],g=(f[1],Object(n.useState)({})),b=Object(j.a)(g,2),E=b[0],v=(b[1],Object(n.useState)(-1)),y=Object(j.a)(v,2),w=y[0],O=y[1],k=Object(n.useState)(!1),T=Object(j.a)(k,2),x=T[0],S=T[1],I=function(){setTimeout(function(){S(!x)},1e3)};return console.log(localStorage.getItem(\"Authorization\")),Object(n.useEffect)(function(){fetch(\"https://api.xutiancheng.me/v1/photos\",{method:\"get\",headers:new Headers({Authorization:localStorage.getItem(\"Authorization\")})}).then(function(e){return e.json()}).then(function(e){o(e)})},[]),Object(n.useEffect)(function(){fetch(\"https://api.xutiancheng.me/v1/tags\",{method:\"get\",headers:new Headers({Authorization:localStorage.getItem(\"Authorization\")})}).then(function(e){return e.json()}).then(function(e){for(var t=0;t<e.length;t++){var a=e[t],n={};n[a.id]=a.name,Object.assign(h,n);var r={};r[a.name]=a.id,Object.assign(E,r)}l(e)})},[x]),r.a.createElement(\"div\",null,r.a.createElement(A,{NotifyTagUpdate:I}),r.a.createElement(U,{tags:c,setTag:function(e){O(e)},NotifyTagUpdate:e.NotifyTagUpdate}),r.a.createElement(P,{tag:w,imgDataList:s,tagIDTable:h,IDTagTable:E,NotifyTagUpdate:I}))},M=function(e){var t=e.page,a=e.setPage,n=e.setAuthToken,s=e.setUser,o=e.user,i=r.a.createElement(r.a.Fragment,null),u=!0;switch(t){case h.signedInMain:i=r.a.createElement(T,{user:o,setPage:a});break;case h.signedInUpdateName:i=r.a.createElement(S,{user:o,setUser:s});break;case h.signedInUpdateAvatar:i=r.a.createElement(I,{user:o,setUser:s});break;case h.signedInUploadImage:i=r.a.createElement(N,{user:o,setUser:s});break;case h.mainPage:i=r.a.createElement(H,{user:o});break;default:i=r.a.createElement(r.a.Fragment,null,\"Error, invalid path reached\"),u=!1}return r.a.createElement(r.a.Fragment,null,i,u&&r.a.createElement(\"button\",{onClick:function(e){return a(e,h.signedInMain)}},\"Back to main\"),r.a.createElement(x,{setUser:s,setAuthToken:n}))},R=(a(26),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(d.a)(t).call(this))).getCurrentUser=Object(c.a)(u.a.mark(function t(){var a,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.authToken){t.next=2;break}return t.abrupt(\"return\");case 2:return t.next=4,fetch(E.base+E.handlers.myuser,{headers:new Headers({Authorization:e.state.authToken})});case 4:if(!((a=t.sent).status>=300)){t.next=11;break}return alert(\"Unable to verify login. Logging out...\"),localStorage.setItem(\"Authorization\",\"\"),e.setAuthToken(\"\"),e.setUser(null),t.abrupt(\"return\");case 11:return t.next=13,a.json();case 13:n=t.sent,e.setUser(n);case 15:case\"end\":return t.stop()}},t)})),e.setPageToSignIn=function(t){t.preventDefault(),e.setState({page:h.signIn})},e.setPageToSignUp=function(t){t.preventDefault(),e.setState({page:h.signUp})},e.setPage=function(t,a){t.preventDefault(),e.setState({page:a})},e.setAuthToken=function(t){e.setState({authToken:t,page:\"\"===t?h.signIn:h.signedInMain})},e.setUser=function(t){e.setState({user:t})},e.state={page:localStorage.getItem(\"Authorization\")?h.signedInMain:h.signIn,authToken:localStorage.getItem(\"Authorization\")||null,user:null},e.getCurrentUser(),e}return Object(f.a)(t,e),Object(m.a)(t,[{key:\"render\",value:function(){var e=this.state,t=e.page,a=e.user;return r.a.createElement(\"div\",null,r.a.createElement(\"h1\",{id:\"proj-title\"},\"441 Photo Management\"),a?r.a.createElement(M,{page:t,setPage:this.setPage,setAuthToken:this.setAuthToken,user:a,setUser:this.setUser}):r.a.createElement(k,{page:t,setPage:this.setPage,setAuthToken:this.setAuthToken,setUser:this.setUser}))}}]),t}(n.Component));Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(R,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,2,1]]]);","extractedComments":[]}