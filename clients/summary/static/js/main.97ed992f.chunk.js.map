{"version":3,"sources":["Constants/PageTypes/PageTypes.js","Components/Auth/Components/SignForm/SignForm.js","Constants/APIEndpoints/APIEndpoints.js","Components/Errors/Errors.js","Components/Auth/Components/SignUp/SignUp.js","Components/Auth/Components/SignIn/SignIn.js","Components/Auth/Components/ForgotPassword/ForgotPassword.js","Components/Auth/Auth.js","Components/Main/Content/MainPageContent/MainPageContent.js","Components/Main/Components/SignOutButton/SignOutButton.js","Components/Main/Components/UpdateName/UpdateName.js","Components/Main/Components/UpdateAvatar/UpdateAvatar.js","Components/Main/Components/UploadImage/UploadImage.js","Components/Main/Main.js","App.js","serviceWorker.js","index.js"],"names":["PageTypes","signIn","signUp","signedInMain","signedInUpdateName","signedInUpdateAvatar","signedInUploadImage","forgotPassword","SignForm","_ref","setField","submitForm","values","fields","react_default","a","createElement","Fragment","onSubmit","map","d","key","name","value","onChange","type","className","APIEndpoints","base","testbase","handlers","users","myuser","myuserAvatar","sessions","sessionsMine","resetPasscode","passwords","upload","Errors","error","setError","onClick","SignUp","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","e","setState","defineProperty","target","asyncToGenerator","regenerator_default","mark","_callee","_this$state","email","userName","firstName","lastName","password","passwordConf","sendData","response","authToken","user","wrap","_context","prev","next","preventDefault","state","fetch","api","method","body","JSON","stringify","headers","Headers","Content-Type","sent","status","text","abrupt","get","localStorage","setItem","setAuthToken","json","setUser","stop","_x","apply","arguments","_this2","Components_Errors_Errors","Components_SignForm_SignForm","setPage","Component","SignIn","ForgotPassword","sendResetCode","alert","resetCodeSent","updatePassword","_ref2","_callee2","resetCode","_context2","_x2","setValue","_this$state2","class","Auth","page","Components_SignUp_SignUp","Components_SignIn_SignIn","Components_ForgotPassword_ForgotPassword","MainPageContent","_useState","useState","_useState2","slicedToArray","avatar","setAvatar","_fetchAvatar","imgBlob","Authorization","getItem","photoURL","blob","URL","createObjectURL","useEffect","fetchAvatar","src","alt","concat","SignOutButton","_error","removeItem","UpdateName","sendRequest","console","log","UpdateAvatar","file","data","FormData","append","handleFile","files","UploadImage","encType","action","Main","content","contentPage","Content_MainPageContent_MainPageContent","Components_UpdateName_UpdateName","Components_UpdateAvatar_UpdateAvatar","Components_UploadImage_UploadImage","Components_SignOutButton_SignOutButton","App","getCurrentUser","setPageToSignIn","setPageToSignUp","id","Components_Main_Main","Components_Auth_Auth","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.97ed992f.chunk.js","sourcesContent":["export default {\n    signIn: \"SIGNIN\",\n    signUp: \"SIGNUP\",\n    signedInMain: \"SIGNEDIN_MAIN\",\n    signedInUpdateName: \"SIGNEDIN_UPDATENAME\",\n    signedInUpdateAvatar: \"SIGNEDIN_UPDATEAVATAR\",\n    signedInUploadImage: \"SIGNEDIN_UPLOADIMAGE\",\n    forgotPassword: \"FORGOT_PASSWORD\"\n}","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst SignForm = ({ setField, submitForm, values, fields }) => {\n    return <>\n        <form onSubmit={submitForm}>\n            {fields.map(d => {\n                const { key, name } = d;\n                return <div key={key}>\n                    <span>{name}: </span>\n                    <input\n                        value={values[key]}\n                        name={key}\n                        onChange={setField}\n                        type={key === \"password\" || key === \"passwordConf\" ? \"password\" : ''}\n                    />\n                </div>\n            })}\n            <input className=\"animated_btn\" type=\"submit\" value=\"Submit\" />\n        </form>\n    </>\n}\n\nSignForm.propTypes = {\n    setField: PropTypes.func.isRequired,\n    submitForm: PropTypes.func.isRequired,\n    values: PropTypes.shape({\n        email: PropTypes.string.isRequired,\n        userName: PropTypes.string,\n        firstName: PropTypes.string,\n        lastName: PropTypes.string,\n        password: PropTypes.string.isRequired,\n        passwordConf: PropTypes.string\n    }),\n    fields: PropTypes.arrayOf(PropTypes.shape({\n        key: PropTypes.string,\n        name: PropTypes.string\n    }))\n}\n\nexport default SignForm;","export default {\n    base: \"https://api.xutiancheng.me\",\n    testbase: \"https://localhost:8080\",\n    handlers: {\n        users: \"/v1/users\",\n        myuser: \"/v1/users/me\",\n        myuserAvatar: \"/v1/users/me/avatar\",\n        sessions: \"/v1/sessions\",\n        sessionsMine: \"/v1/sessions/mine\",\n        resetPasscode: \"/v1/resetcodes\",\n        passwords: \"/v1/passwords/\",\n        upload: \"/v1/upload/\"\n    }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Styles/Errors.css';\n\nconst Errors = ({ error, setError }) => {\n    switch (error) {\n        case \"\":\n            return <></>\n        default:\n            return <div className=\"error\">\n                <span className=\"error-hide\" onClick={() => setError(\"\")}>x</span>\n                Error: {error}\n            </div>\n    }\n}\n\nErrors.propTypes = {\n    error: PropTypes.string.isRequired,\n    setError: PropTypes.func\n}\n\nexport default Errors;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport SignForm from '../SignForm/SignForm';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\nimport Errors from '../../../Errors/Errors';\nimport PageTypes from '../../../../Constants/PageTypes/PageTypes';\n\n/**\n * @class\n * @classdesc SignUp handles the sign up component\n */\nclass SignUp extends Component {\n    static propTypes = {\n        setPage: PropTypes.func,\n        setAuthToken: PropTypes.func\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            email: \"\",\n            userName: \"\",\n            firstName: \"\",\n            lastName: \"\",\n            password: \"\",\n            passwordConf: \"\",\n            error: \"\"\n        };\n\n        this.fields = [\n            {\n                name: \"Email\",\n                key: \"email\"\n            },\n            {\n                name: \"Username\",\n                key: \"userName\"\n            },\n            {\n                name: \"First name\",\n                key: \"firstName\"\n            },\n            {\n                name: \"Last name\",\n                key: \"lastName\"\n            },\n            {\n                name: \"Password\",\n                key: \"password\"\n            },\n            {\n                name: \"Password Confirmation\",\n                key: \"passwordConf\"\n            }];\n    }\n\n    /**\n     * @description setField will set the field for the provided argument\n     */\n    setField = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    /**\n     * @description setError sets the error message\n     */\n    setError = (error) => {\n        this.setState({ error })\n    }\n\n    /**\n     * @description submitForm handles the form submission\n     */\n    submitForm = async (e) => {\n        e.preventDefault();\n        const { email,\n            userName,\n            firstName,\n            lastName,\n            password,\n            passwordConf } = this.state;\n        const sendData = {\n            email,\n            userName,\n            firstName,\n            lastName,\n            password,\n            passwordConf\n        };\n        const response = await fetch(api.base + api.handlers.users, {\n            method: \"POST\",\n            body: JSON.stringify(sendData),\n            headers: new Headers({\n                \"Content-Type\": \"application/json\"\n            })\n        });\n        if (response.status >= 300) {\n            const error = await response.text();\n            this.setError(error);\n            return;\n        }\n        const authToken = response.headers.get(\"Authorization\")\n        localStorage.setItem(\"Authorization\", authToken);\n        this.setError(\"\");\n        this.props.setAuthToken(authToken);\n        const user = await response.json();\n        this.props.setUser(user);\n    }\n\n    render() {\n        const values = this.state;\n        const { error } = this.state;\n        return <>\n            <Errors error={error} setError={this.setError} />\n            <SignForm\n                setField={this.setField}\n                submitForm={this.submitForm}\n                values={values}\n                fields={this.fields} />\n            <button onClick={(e) => this.props.setPage(e, PageTypes.signIn)}>Sign in instead</button>\n        </>\n    }\n}\n\nexport default SignUp;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport SignForm from '../SignForm/SignForm';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\nimport Errors from '../../../Errors/Errors';\nimport PageTypes from '../../../../Constants/PageTypes/PageTypes';\n\n/**\n * @class\n * @classdesc SignIn handles the sign in component\n */\nclass SignIn extends Component {\n    static propTypes = {\n        setPage: PropTypes.func,\n        setAuthToken: PropTypes.func\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            email: \"\",\n            password: \"\",\n            error: \"\"\n        };\n\n        this.fields = [\n            {\n                name: \"Email\",\n                key: \"email\"\n            },\n            {\n                name: \"Password\",\n                key: \"password\"\n            }];\n    }\n\n    /**\n     * @description setField will set the field for the provided argument\n     */\n    setField = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    /**\n     * @description setError sets the error message\n     */\n    setError = (error) => {\n        this.setState({ error })\n    }\n\n    /**\n     * @description submitForm handles the form submission\n     */\n    submitForm = async (e) => {\n        e.preventDefault();\n        const { email, password } = this.state;\n        const sendData = { email, password };\n        const response = await fetch(api.base + api.handlers.sessions, {\n            method: \"POST\",\n            body: JSON.stringify(sendData),\n            headers: new Headers({\n                \"Content-Type\": \"application/json\"\n            })\n        });\n        if (response.status >= 300) {\n            const error = await response.text();\n            this.setError(error);\n            return;\n        }\n        const authToken = response.headers.get(\"Authorization\")\n        localStorage.setItem(\"Authorization\", authToken);\n        this.setError(\"\");\n        this.props.setAuthToken(authToken);\n        const user = await response.json();\n        this.props.setUser(user);\n    }\n\n    render() {\n        const values = this.state;\n        const { error } = this.state;\n        return <>\n            <Errors error={error} setError={this.setError} />\n            <SignForm\n                setField={this.setField}\n                submitForm={this.submitForm}\n                values={values}\n                fields={this.fields} />\n            <button onClick={(e) => this.props.setPage(e, PageTypes.signUp)}>Sign up instead</button>\n            <button onClick={(e) => this.props.setPage(e, PageTypes.forgotPassword)}>Forgot password</button>\n        </>\n    }\n}\n\nexport default SignIn;","import React, { Component } from 'react';\nimport Errors from '../../../Errors/Errors';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\nimport PageTypes from '../../../../Constants/PageTypes/PageTypes';\n\nclass ForgotPassword extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: \"\",\n            password: \"\",\n            passwordConf: \"\",\n            resetCode: \"\",\n            resetCodeSent: false,\n            error: \"\"\n        }\n    }\n\n    sendResetCode = async (e) => {\n        e.preventDefault();\n        const { email } = this.state;\n        const sendData = { email };\n        const response = await fetch(api.base + api.handlers.resetPasscode, {\n            method: \"POST\",\n            body: JSON.stringify(sendData),\n            headers: new Headers({\n                \"Content-Type\": \"application/json\"\n            })\n        });\n        if (response.status >= 300) {\n            const error = await response.text();\n            this.setError(error);\n            return;\n        }\n        this.setError(\"\");\n        alert(\"A reset code has been sent to your email\");\n        this.setState({ resetCodeSent: true });\n    }\n\n    updatePassword = async (e) => {\n        e.preventDefault();\n        const { email, password, passwordConf, resetCode } = this.state;\n        const sendData = { password, passwordConf, resetCode };\n        const response = await fetch(api.base + api.handlers.passwords + email, {\n            method: \"PUT\",\n            body: JSON.stringify(sendData),\n            headers: new Headers({\n                \"Content-Type\": \"application/json\"\n            })\n        });\n        if (response.status >= 300) {\n            const error = await response.text();\n            this.setError(error);\n            return;\n        }\n        this.setError(\"\");\n        alert(\"Your password has been updated\");\n    }\n\n    setValue = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    setError = (error) => {\n        this.setState({ error });\n    }\n\n    render() {\n        const { email, password, passwordConf, resetCode, resetCodeSent, error } = this.state;\n        return <>\n            <Errors error={error} setError={this.setError} />\n            {resetCodeSent ?\n                <>\n                    <form onSubmit={(e) => this.updatePassword(e)}>\n                        <div>\n                            <span>Password: </span>\n                            <input name={\"password\"} type={\"password\"} onChange={this.setValue} value={password} />\n                        </div>\n                        <div>\n                            <span>Password Confirmation: </span>\n                            <input name={\"passwordConf\"} type={\"password\"} onChange={this.setValue} value={passwordConf} />\n                        </div>\n                        <div>\n                            <span>Reset Code: </span>\n                            <input name={\"resetCode\"} onChange={this.setValue} value={resetCode} />\n                        </div>\n                        <input type=\"submit\" value=\"Update my password\" />\n                    </form>\n                </>\n                :\n                <>\n                    <form onSubmit={(e) => this.sendResetCode(e)}>\n                        <div>\n                            <span>Email: </span>\n                            <input name={\"email\"} onChange={this.setValue} value={email} />\n                        </div>\n                        <input type=\"submit\" class=\"animated_btn\" value=\"Send me a reset code\" />\n                    </form>\n                </>}\n            <button onClick={(e) => this.props.setPage(e, PageTypes.signIn)}>Back to sign in</button>\n\n\n        </>\n\n    }\n\n\n\n}\n\nexport default ForgotPassword;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PageTypes from '../../Constants/PageTypes/PageTypes';\nimport SignUp from './Components/SignUp/SignUp';\nimport SignIn from './Components/SignIn/SignIn';\nimport ForgotPassword from './Components/ForgotPassword/ForgotPassword';\n\n/**\n * @class Auth\n * @description This is an auth object that controls what page\n * is loaded based on sign up or sign in state\n */\nconst Auth = ({ page, setPage, setAuthToken, setUser }) => {\n    switch (page) {\n        case PageTypes.signUp:\n            return <SignUp setPage={setPage} setAuthToken={setAuthToken} setUser={setUser} />\n        case PageTypes.signIn:\n            return <SignIn setPage={setPage} setAuthToken={setAuthToken} setUser={setUser} />\n        case PageTypes.forgotPassword:\n            return <ForgotPassword setPage={setPage} />;\n        default:\n            return <>Error, invalid path reached</>\n    }\n}\n\nAuth.propTypes = {\n    page: PropTypes.string.isRequired,\n    setPage: PropTypes.func.isRequired,\n    setAuthToken: PropTypes.func.isRequired,\n    setUser: PropTypes.func.isRequired\n}\n\nexport default Auth;","import React, { useState, useEffect } from 'react';\nimport PageTypes from '../../../../Constants/PageTypes/PageTypes';\nimport './Styles/MainPageContent.css';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\n\nconst MainPageContent = ({ user, setPage }) => {\n    const [avatar, setAvatar] = useState(null)\n\n    async function fetchAvatar() {\n        const response = await fetch(api.base + api.handlers.myuserAvatar, {\n            method: \"GET\",\n            headers: new Headers({\n                \"Authorization\": localStorage.getItem(\"Authorization\")\n            })\n        });\n        if (response.status >= 300) {\n            // const error = await response.text();\n            setAvatar(user.photoURL)\n            return;\n        }\n        const imgBlob = await response.blob();\n        setAvatar(URL.createObjectURL(imgBlob));\n    }\n\n    useEffect(() => {\n        fetchAvatar();\n        return;\n    }, []);\n\n    return <>\n        <div>Welcome to my application, {user.firstName} {user.lastName}</div>\n\n        {avatar && <img className={\"avatar\"} src={avatar} alt={`${user.firstName}'s avatar`} />}\n        <div><button onClick={(e) => { setPage(e, PageTypes.signedInUpdateName) }}>Update name</button></div>\n        <div><button onClick={(e) => { setPage(e, PageTypes.signedInUpdateAvatar) }}>Update avatar</button></div>\n        <div><button onClick={(e) => { setPage(e, PageTypes.signedInUploadImage) }}>Upload an image</button></div>\n    </>\n}\n\nexport default MainPageContent;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\nimport Errors from '../../../Errors/Errors';\n\nconst SignOutButton = ({ setAuthToken, setUser }) => {\n    const [error, setError] = useState(\"\");\n\n    return <><button onClick={async (e) => {\n        e.preventDefault();\n        const response = await fetch(api.base + api.handlers.sessionsMine, {\n            method: \"DELETE\",\n            headers: new Headers({\n                \"Authorization\": localStorage.getItem(\"Authorization\")\n            })\n        });\n        if (response.status >= 300) {\n            const error = await response.text();\n            setError(error);\n            return;\n        }\n        localStorage.removeItem(\"Authorization\");\n        setError(\"\");\n        setAuthToken(\"\");\n        setUser(null);\n    }}>Sign out</button>\n        {error &&\n            <div>\n                <Errors error={error} setError={setError} />\n            </div>\n        }\n    </>\n}\n\nSignOutButton.propTypes = {\n    setAuthToken: PropTypes.func.isRequired,\n    setUser: PropTypes.func.isRequired\n}\n\nexport default SignOutButton;","import React, { Component } from 'react';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\nimport Errors from '../../../Errors/Errors';\n\nclass UpdateName extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            firstName: '',\n            lastName: '',\n            error: ''\n        }\n    }\n\n    sendRequest = async (e) => {\n        e.preventDefault();\n        const { firstName, lastName } = this.state;\n        const sendData = { firstName, lastName };\n        const response = await fetch(api.base + api.handlers.myuser, {\n            method: \"PATCH\",\n            body: JSON.stringify(sendData),\n            headers: new Headers({\n                \"Authorization\": localStorage.getItem(\"Authorization\"),\n                \"Content-Type\": \"application/json\"\n            })\n        });\n        if (response.status >= 300) {\n            const error = await response.text();\n            console.log(error);\n            this.setError(error);\n            return;\n        }\n        alert(\"Name changed\") // TODO make this better by refactoring errors\n        const user = await response.json();\n        this.props.setUser(user);\n    }\n\n    setValue = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    setError = (error) => {\n        this.setState({ error })\n    }\n\n    render() {\n        const { firstName, lastName, error } = this.state;\n        return <>\n            <Errors error={error} setError={this.setError} />\n            <div>Enter a new name</div>\n            <form onSubmit={this.sendRequest}>\n                <div>\n                    <span>First name: </span>\n                    <input name={\"firstName\"} value={firstName} onChange={this.setValue} />\n                </div>\n                <div>\n                    <span>Last name: </span>\n                    <input name={\"lastName\"} value={lastName} onChange={this.setValue} />\n                </div>\n                <input type=\"submit\" value=\"Change name\" />\n            </form>\n        </>\n    }\n\n}\n\nexport default UpdateName;","import React, { Component } from 'react';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\nimport Errors from '../../../Errors/Errors';\n\nclass UpdateAvatar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            file: null,\n            error: ''\n        }\n    }\n\n    sendRequest = async (e) => {\n        e.preventDefault();\n        const { file } = this.state;\n        let data = new FormData()\n        data.append('uploadfile', file);\n        const response = await fetch(api.base + api.handlers.myuserAvatar, {\n            method: \"PUT\",\n            body: data,\n            headers: new Headers({\n                \"Authorization\": localStorage.getItem(\"Authorization\"),\n            })\n        });\n        if (response.status >= 300) {\n            const error = await response.text();\n            console.log(error);\n            this.setError(error);\n            return;\n        }\n        alert(\"Avatar changed\"); // TODO make this better by refactoring errors\n    }\n\n    handleFile = (e) => {\n        this.setState({\n            file: e.target.files[0]\n        })\n    }\n\n    setError = (error) => {\n        this.setState({ error })\n    }\n\n    render() {\n        const { error } = this.state;\n        return <>\n            <Errors error={error} setError={this.setError} />\n            <div>Give yourself a new avatar</div>\n            <form onSubmit={this.sendRequest}>\n                <div>\n                    <span>Upload new avatar </span>\n                    <input type=\"file\" onChange={this.handleFile} />\n                </div>\n                <input type=\"submit\" value=\"Change avatar\" />\n            </form>\n        </>\n    }\n\n}\n\nexport default UpdateAvatar;","import React, { Component } from 'react';\nimport api from '../../../../Constants/APIEndpoints/APIEndpoints';\nimport Errors from '../../../Errors/Errors';\n\nclass UploadImage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            file: null,\n            error: ''\n        }\n    }\n\n    // sendRequest = async (e) => {\n    //     e.preventDefault();\n    //     const { file } = this.state;\n    //     let data = new FormData()\n    //     data.append('uploadfile', file);\n    //     const response = await fetch(api.base + api.handlers.upload, {\n    //         method: \"POST\",\n    //         body: data,\n    //         headers: new Headers({\n    //             \"Authorization\": localStorage.getItem(\"Authorization\"),\n    //         })\n    //     });\n    //     if (response.status >= 300) {\n    //         const error = await response.text();\n    //         console.log(error);\n    //         this.setError(error);\n    //         return;\n    //     }\n    //     alert(\"Upload Successful\"); // TODO make this better by refactoring errors\n    // }\n\n    handleFile = (e) => {\n        this.setState({\n            file: e.target.files[0]\n        })\n    }\n\n    setError = (error) => {\n        this.setState({ error })\n    }\n\n    render() {\n        const { firstName, lastName, error } = this.state;\n        return <>\n            <Errors error={error} setError={this.setError} />\n            <div>Upload a new image</div>\n            <form\n                target=\"_blank\"\n                encType=\"multipart/form-data\"\n                action=\"https://api.xutiancheng.me/v1/upload/\"\n                method=\"post\"\n                >\n                <input type=\"file\" name=\"file\" />\n                <input type=\"submit\" value=\"upload\" />   \n            </form>\n        </>\n    }\n\n}\n\nexport default UploadImage;","import React from 'react';\nimport PageTypes from '../../Constants/PageTypes/PageTypes';\nimport MainPageContent from './Content/MainPageContent/MainPageContent';\nimport SignOutButton from './Components/SignOutButton/SignOutButton';\nimport UpdateName from './Components/UpdateName/UpdateName';\nimport UpdateAvatar from './Components/UpdateAvatar/UpdateAvatar';\nimport UploadImage from './Components/UploadImage/UploadImage';\n\nconst Main = ({ page, setPage, setAuthToken, setUser, user }) => {\n    let content = <></>\n    let contentPage = true;\n    switch (page) {\n        case PageTypes.signedInMain:\n            content = <MainPageContent user={user} setPage={setPage} />;\n            break;\n        case PageTypes.signedInUpdateName:\n            content = <UpdateName user={user} setUser={setUser} />;\n            break;\n        case PageTypes.signedInUpdateAvatar:\n            content = <UpdateAvatar user={user} setUser={setUser} />;\n            break;\n        case PageTypes.signedInUploadImage:\n            content = <UploadImage user={user} setUser={setUser} />;\n            break;\n        default:\n            content = <>Error, invalid path reached</>;\n            contentPage = false;\n            break;\n    }\n    return <>\n        {content}\n        {contentPage && <button onClick={(e) => setPage(e, PageTypes.signedInMain)}>Back to main</button>}\n        <SignOutButton setUser={setUser} setAuthToken={setAuthToken} />\n    </>\n}\n\nexport default Main;","import React, { Component } from 'react';\nimport Auth from './Components/Auth/Auth';\nimport PageTypes from './Constants/PageTypes/PageTypes';\nimport Main from './Components/Main/Main';\nimport './Styles/App.css';\nimport api from './Constants/APIEndpoints/APIEndpoints';\n\nclass App extends Component {\n    constructor() {\n        super();\n        this.state = {\n            page: localStorage.getItem(\"Authorization\") ? PageTypes.signedInMain : PageTypes.signIn,\n            authToken: localStorage.getItem(\"Authorization\") || null,\n            user: null\n        }\n\n        this.getCurrentUser()\n    }\n\n\n    /**\n     * @description Gets the users\n     */\n    getCurrentUser = async () => {\n        if (!this.state.authToken) {\n            return;\n        }\n        const response = await fetch(api.base + api.handlers.myuser, {\n            headers: new Headers({\n                \"Authorization\": this.state.authToken\n            })\n        });\n        if (response.status >= 300) {\n            alert(\"Unable to verify login. Logging out...\");\n            localStorage.setItem(\"Authorization\", \"\");\n            this.setAuthToken(\"\");\n            this.setUser(null)\n            return;\n        }\n        const user = await response.json()\n        this.setUser(user);\n\n    }\n\n    /**\n     * @description sets the page type to sign in\n     */\n    setPageToSignIn = (e) => {\n        e.preventDefault();\n        this.setState({ page: PageTypes.signIn });\n    }\n\n    /**\n     * @description sets the page type to sign up\n     */\n    setPageToSignUp = (e) => {\n        e.preventDefault();\n        this.setState({ page: PageTypes.signUp });\n    }\n\n    setPage = (e, page) => {\n        e.preventDefault();\n        this.setState({ page });\n    }\n\n    /**\n     * @description sets auth token\n     */\n    setAuthToken = (authToken) => {\n        this.setState({ authToken, page: authToken === \"\" ? PageTypes.signIn : PageTypes.signedInMain });\n    }\n\n    /**\n     * @description sets the user\n     */\n    setUser = (user) => {\n        this.setState({ user });\n    }\n\n    render() {\n        const { page, user } = this.state;\n        return (\n            <div>\n                <h1 id=\"proj-title\">441 Photo Management</h1>\n                {user ?\n                    <Main page={page}\n                        setPage={this.setPage}\n                        setAuthToken={this.setAuthToken}\n                        user={user}\n                        setUser={this.setUser} />\n                    :\n                    <Auth page={page}\n                        setPage={this.setPage}\n                        setAuthToken={this.setAuthToken}\n                        setUser={this.setUser} />\n                }\n            </div>\n        );\n    }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}